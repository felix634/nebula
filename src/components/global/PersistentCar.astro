---
interface Props {
  viewState: 'center' | 'left' | 'exploded';
}

const { viewState } = Astro.props;

// RESPONSIVE LOGIC:
// Base classes (Mobile) -> md: classes (Desktop)

const positionClasses = {
  // Center: Same for both, just adjust width
  center: 'top-[50%] left-1/2 -translate-x-1/2 -translate-y-1/2 w-[90vw] md:max-w-[1200px]',
  
  // Left/Configure State:
  // Mobile: Moves to TOP (to allow controls below)
  // Desktop: Moves to LEFT (to allow controls on right)
  left: 'top-[25%] left-1/2 -translate-x-1/2 -translate-y-1/2 w-[80vw] md:top-1/2 md:left-[10%] md:-translate-x-1/4 md:w-[600px]',
  
  // Exploded: Hidden
  exploded: 'top-[40%] left-1/2 -translate-x-1/2 -translate-y-1/2 scale-150 opacity-0 pointer-events-none', 
};
---

<div 
  transition:name="hero-car" 
  class={`fixed z-30 transition-all duration-1000 cubic-bezier(0.25, 0.8, 0.25, 1) pointer-events-none ${positionClasses[viewState]}`}
>
  <img 
    src="/car-side-view.png" 
    alt="Nebula One" 
    class="w-full h-auto object-contain drop-shadow-[0_20px_50px_rgba(0,0,0,0.8)]" 
  />
</div>